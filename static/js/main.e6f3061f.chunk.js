(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(2),i=n.n(s),r=(n(15),n(6)),c=n(3),l=n(4),m=n(7),u=n(5),d=n(8),v=(n(16),function(e,t){if(!e||!t||e.length!==t.length)return!1;for(var n=!0,a=0;a<e.length;a++)e[a]!==t[a]&&(n=!1);return n}),h=function(e,t){return e.map(function(e,n){return e-t[n]})},f=function(e){var t="grid-cell \n"+(e.foodCell?"grid-cell--food":"")+" \n"+(e.snakeCell?"grid-cell--snake":"")+"\n";return o.a.createElement("div",{className:t,style:{height:e.size+"px",width:e.size+"px"}})},k=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(m.a)(this,Object(u.a)(t).call(this,e))).moveFood=function(){n.moveFoodTimeout&&clearTimeout(n.moveFoodTimeout);var e=parseInt(Math.random()*n.numCells),t=parseInt(Math.random()*n.numCells);n.setState({food:[e,t]}),n.moveFoodTimeout=setTimeout(n.moveFood,5e3)},n.setDirection=function(e){var t=e.keyCode,a=!0;[[38,40],[37,39]].forEach(function(e){e.indexOf(n.state.direction)>-1&&e.indexOf(t)>-1&&(a=!1)}),a&&n.setState({direction:t})},n.moveSnake=function(){var e=[],t=Object(r.a)(n.state.snake);switch(n.state.direction){case 40:e[0]=[n.state.snake[0][0],n.state.snake[0][1]+1];break;case 38:e[0]=[n.state.snake[0][0],n.state.snake[0][1]-1];break;case 39:e[0]=[n.state.snake[0][0]+1,n.state.snake[0][1]];break;case 37:e[0]=[n.state.snake[0][0]-1,n.state.snake[0][1]]}[].push.apply(e,n.state.snake.slice(1).map(function(e,n){return t[n]})),n.setState({snake:e}),n.checkIfAteFood(e),n.isValid(e[0])&&n.doesntOverlap(e)||n.endGame()},n.checkIfAteFood=function(e){if(v(e[0],n.state.food)){var t=void 0,a=e[e.length-1],o=[[-1,0],[0,-1],[1,0],[0,1]];e.length>1&&(o[0]=h(a,e[e.length-2]));for(var s=0;s<o.length&&(t=[a[0]+o[s][0],a[1]+o[s][1]],!n.isValid(t));s++);n.setState({snake:e.concat([t]),food:[]},n.moveFood)}},n.isValid=function(e){return e[0]>-1&&e[1]>-1&&e[0]<n.numCells&&e[1]<n.numCells},n.doesntOverlap=function(e){return 0===e.slice(1).filter(function(t){return v(e[0],t)}).length},n.startGame=function(){n.removeTimers(),n.moveSnakeInterval=setInterval(n.moveSnake,130),n.moveFood(),n.setState({status:1,snake:[[5,5]],food:[10,10]}),n.el.focus()},n.endGame=function(){n.removeTimers(),n.setState({status:2})},n.removeTimers=function(){n.moveSnakeInterval&&clearInterval(n.moveSnakeInterval),n.moveFoodTimeout&&clearTimeout(n.moveFoodTimeout)},n.state={snake:[],food:[],status:0,direction:39},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){document.addEventListener("keydown",this.setDirection)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.setDirection),this.removeTimers()}},{key:"render",value:function(){var e=this,t=this.state,n=t.food,a=t.snake;this.numCells=Math.floor(this.props.size/15);var s=this.props.size/this.numCells,i=Array.from(Array(this.numCells).keys()),r=void 0;return 0===this.state.status?r=o.a.createElement("div",{className:"snake-app__overlay"},o.a.createElement("button",{onClick:this.startGame},"Start ")):2===this.state.status&&(r=o.a.createElement("div",{className:"snake-app__overlay"},o.a.createElement("div",{className:"mb-1"},o.a.createElement("b",null," OVER")),o.a.createElement("div",{className:"mb-1"},"Score: ",a.length-1),o.a.createElement("button",{onClick:this.startGame},"New game"))),o.a.createElement("div",{className:"snake-app",onKeyDown:this.setDirection,style:{width:this.props.size+"px",height:this.props.size+"px"},ref:function(t){return e.el=t}},r,o.a.createElement("div",{className:"grid",style:{width:this.props.size+"px",height:this.props.size+"px"}},i.map(function(e){return i.map(function(t){var i=n[0]===t&&n[1]===e,r=a.filter(function(n){return n[0]===t&&n[1]===e});return r=r.length&&r[0],o.a.createElement(f,{foodCell:i,snakeCell:r,size:s,key:"".concat(t," ").concat(e)})})})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(k,{size:450}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.e6f3061f.chunk.js.map